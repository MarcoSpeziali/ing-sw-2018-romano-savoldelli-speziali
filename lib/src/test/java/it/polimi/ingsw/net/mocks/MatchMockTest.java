package it.polimi.ingsw.net.mocks;

import it.polimi.ingsw.net.Response;
import it.polimi.ingsw.utils.io.json.JSONSerializable;
import org.json.JSONObject;
import org.junit.jupiter.api.Test;

class MatchMockTest {

    @Test
    void testSerializationAndDeserialization() {
        JSONObject jsonObject = new JSONObject("{\"response\":{\"header\":{\"endpoint\":\"MATCH_UPDATE_RESPONSE\"},\"body\":{\"draft-pool\":{\"location-die-map\":{\"1\":{\"color\":\"PURPLE\",\"shade\":6},\"2\":{\"color\":\"GREEN\",\"shade\":3}},\"max-number-of-dice\":5},\"ending-time\":-1,\"lobby\":{\"opening-time\":1530655200000,\"closing-time\":1530655200000,\"players\":[{\"id\":1,\"username\":\"1\"},{\"id\":2,\"username\":\"2\"}],\"time-remaining\":-1,\"id\":165},\"public-objective-cards\":[{\"visibility\":\"PUBLIC\",\"description\":\"cards.public_cards.light_shades.description\",\"id\":\"light_shades\",\"title\":\"cards.public_cards.light_shades.name\",\"objective\":{\"points-per-completion\":2}},{\"visibility\":\"PUBLIC\",\"description\":\"cards.public_cards.column_color_variety.description\",\"id\":\"column_color_variety\",\"title\":\"cards.public_cards.column_color_variety.name\",\"objective\":{\"points-per-completion\":5}},{\"visibility\":\"PUBLIC\",\"description\":\"cards.public_cards.deep_shades.description\",\"id\":\"deep_shades\",\"title\":\"cards.public_cards.deep_shades.name\",\"objective\":{\"points-per-completion\":2}}],\"round-track\":{\"round-number\":10,\"location-die-map\":{}},\"private-objective-card\":{\"visibility\":\"PRIVATE\",\"description\":\"cards.private_cards.yellow_shade.description\",\"id\":\"yellow_shade\",\"title\":\"cards.private_cards.yellow_shade.name\",\"objective\":{\"points-per-completion\":1}},\"players\":[{\"left\":false,\"favour-tokens\":6,\"window\":{\"difficulty\":6,\"cells\":[{\"die\":{\"color\":\"RED\",\"shade\":6},\"shade\":6},{\"color\":\"BLUE\",\"shade\":0},{\"shade\":0},{\"shade\":0},{\"shade\":1},{\"shade\":0},{\"shade\":5},{\"color\":\"BLUE\",\"shade\":0},{\"shade\":0},{\"shade\":0},{\"shade\":4},{\"color\":\"RED\",\"shade\":0},{\"shade\":2},{\"color\":\"BLUE\",\"shade\":0},{\"shade\":0},{\"color\":\"GREEN\",\"shade\":0},{\"shade\":6},{\"color\":\"YELLOW\",\"shade\":0},{\"shade\":3},{\"color\":\"PURPLE\",\"shade\":0}],\"columns\":5,\"id\":\"water_of_life\",\"rows\":4},\"player\":{\"id\":2,\"username\":\"2\"}}],\"id\":163,\"class-type\":\"it.polimi.ingsw.net.mocks.MatchMock\",\"starting-time\":1530655200000,\"tool-cards\":[{\"effect\":{\"cost\":1,\"description-key\":\"cards.tool_cards.cork_backed_strainghtedge.description\"},\"description\":\"cards.tool_cards.cork_backed_strainghtedge.description\",\"id\":\"cork_backed_strainghtedge\",\"title\":\"cards.tool_cards.cork_backed_strainghtedge.name\"},{\"effect\":{\"cost\":1,\"description-key\":\"cards.tool_cards.grozing_pliers.description\"},\"description\":\"cards.tool_cards.grozing_pliers.description\",\"id\":\"grozing_pliers\",\"title\":\"cards.tool_cards.grozing_pliers.name\"},{\"effect\":{\"cost\":1,\"description-key\":\"cards.tool_cards.tap_wheel.description\"},\"description\":\"cards.tool_cards.tap_wheel.description\",\"id\":\"tap_wheel\",\"title\":\"cards.tool_cards.tap_wheel.name\"}],\"current-player\":{\"left\":false,\"favour-tokens\":3,\"window\":{\"difficulty\":3,\"cells\":[{\"shade\":0},{\"shade\":0},{\"color\":\"RED\",\"shade\":0},{\"shade\":5},{\"shade\":0},{\"color\":\"PURPLE\",\"shade\":0},{\"shade\":4},{\"shade\":0},{\"color\":\"GREEN\",\"shade\":0},{\"shade\":3},{\"shade\":6},{\"die\":{\"color\":\"RED\",\"shade\":3},\"shade\":0},{\"shade\":0},{\"color\":\"BLUE\",\"shade\":0},{\"shade\":0},{\"shade\":0},{\"color\":\"YELLOW\",\"shade\":0},{\"die\":{\"color\":\"RED\",\"shade\":2},\"shade\":2},{\"shade\":0},{\"shade\":0}],\"columns\":5,\"id\":\"luz_celestial\",\"rows\":4},\"player\":{\"id\":1,\"username\":\"1\"}}}}}");
        Response<MatchMock> matchMockResponse = JSONSerializable.deserialize(Response.class, jsonObject);
    }
}